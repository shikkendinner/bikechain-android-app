{"files":[{"id":"43c957f9-3816-4b56-8498-97a43a2f5786","name":"Code","type":"server_js","source":"function doGet(e) {\n  var content \u003d \"No names at the moment\";\n  \n  if(e.parameter.userName !\u003d null){\n    content \u003d getNamesAhead(e.parameter.userName);\n  }\n  \n  return ContentService.createTextOutput(content);\n}\n\nfunction getNamesAhead(userName) {\n  var waitList \u003d SpreadsheetApp.openById(\"1qVqKnKlg8il6zJ6xzs0Ut4hA-DLqFAbTvYykM_tEYdk\").getSheets()[0];\n  \n  var on \u003d \"ON\";\n  \n  var counter \u003d 0;\n  var cellValue \u003d waitList.getDataRange().getValues();\n  var notFound \u003d true;\n  \n  for(var i \u003d 1; i \u003c cellValue.length; i++){\n    if(cellValue[i][6].toUpperCase() \u003d\u003d on){\n      if((cellValue[i][1]+cellValue[i][2]).toUpperCase() !\u003d userName.toUpperCase()){\n        counter \u003d counter + 1;\n      } else {\n        notFound \u003d false;\n        break;\n      }\n    }   \n  }\n  \n  if(notFound){\n    counter \u003d -1;\n  }\n\n  return counter;\n}\n\nfunction doPost(e) {\n  var content \u003d \"invalid\"\n  \n  if(e.parameter.id !\u003d null){\n    content \u003d registerID(e.parameter.id);\n  }\n  \n  return ContentService.createTextOutput(content);\n}\n\nfunction registerID(ID){\n  var spreadSheet \u003d SpreadsheetApp.openById(\"1b6m_1BGDHOjsGHocM3nLw1FgSuLaM3x9ODr3Vs0zaU8\").getSheets()[0];\n  spreadSheet.appendRow([ID]);\n  \n  return \"Success\";\n}\n"}]}